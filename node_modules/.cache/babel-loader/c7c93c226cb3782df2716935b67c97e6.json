{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useGridRegisterPipeProcessor } from '@mui/x-data-grid/internals';\nimport { GRID_DETAIL_PANEL_TOGGLE_FIELD, GRID_DETAIL_PANEL_TOGGLE_COL_DEF } from './gridDetailPanelToggleColDef';\nimport { gridDetailPanelExpandedRowIdsSelector } from './gridDetailPanelSelector';\nexport const useGridDetailPanelPreProcessors = (apiRef, props) => {\n  const addToggleColumn = React.useCallback(columnsState => {\n    if (props.getDetailPanelContent == null) {\n      // Remove the toggle column, when it exists\n      if (columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]) {\n        delete columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD];\n        columnsState.all = columnsState.all.filter(field => field !== GRID_DETAIL_PANEL_TOGGLE_FIELD);\n      }\n\n      return columnsState;\n    } // Don't add the toggle column if there's already one\n    // The user might have manually added it to have it in a custom position\n\n\n    if (columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]) {\n      return columnsState;\n    } // Othewise, add the toggle column at the beginning\n\n\n    columnsState.all = [GRID_DETAIL_PANEL_TOGGLE_FIELD, ...columnsState.all];\n    columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD] = _extends({}, GRID_DETAIL_PANEL_TOGGLE_COL_DEF, {\n      headerName: apiRef.current.getLocaleText('detailPanelToggle')\n    });\n    return columnsState;\n  }, [apiRef, props.getDetailPanelContent]);\n  const addExpandedClassToRow = React.useCallback((classes, id) => {\n    if (props.getDetailPanelContent == null) {\n      return classes;\n    }\n\n    const expandedRowIds = gridDetailPanelExpandedRowIdsSelector(apiRef.current.state);\n\n    if (!expandedRowIds.includes(id)) {\n      return classes;\n    }\n\n    return [...classes, 'MuiDataGrid-row--detailPanelExpanded'];\n  }, [apiRef, props.getDetailPanelContent]);\n  useGridRegisterPipeProcessor(apiRef, 'hydrateColumns', addToggleColumn);\n  useGridRegisterPipeProcessor(apiRef, 'rowClassName', addExpandedClassToRow);\n};","map":{"version":3,"names":["_extends","React","useGridRegisterPipeProcessor","GRID_DETAIL_PANEL_TOGGLE_FIELD","GRID_DETAIL_PANEL_TOGGLE_COL_DEF","gridDetailPanelExpandedRowIdsSelector","useGridDetailPanelPreProcessors","apiRef","props","addToggleColumn","useCallback","columnsState","getDetailPanelContent","lookup","all","filter","field","headerName","current","getLocaleText","addExpandedClassToRow","classes","id","expandedRowIds","state","includes"],"sources":["/Users/dewan03/project/project/node_modules/@mui/x-data-grid-pro/hooks/features/detailPanel/useGridDetailPanelPreProcessors.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport { useGridRegisterPipeProcessor } from '@mui/x-data-grid/internals';\nimport { GRID_DETAIL_PANEL_TOGGLE_FIELD, GRID_DETAIL_PANEL_TOGGLE_COL_DEF } from './gridDetailPanelToggleColDef';\nimport { gridDetailPanelExpandedRowIdsSelector } from './gridDetailPanelSelector';\nexport const useGridDetailPanelPreProcessors = (apiRef, props) => {\n  const addToggleColumn = React.useCallback(columnsState => {\n    if (props.getDetailPanelContent == null) {\n      // Remove the toggle column, when it exists\n      if (columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]) {\n        delete columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD];\n        columnsState.all = columnsState.all.filter(field => field !== GRID_DETAIL_PANEL_TOGGLE_FIELD);\n      }\n\n      return columnsState;\n    } // Don't add the toggle column if there's already one\n    // The user might have manually added it to have it in a custom position\n\n\n    if (columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD]) {\n      return columnsState;\n    } // Othewise, add the toggle column at the beginning\n\n\n    columnsState.all = [GRID_DETAIL_PANEL_TOGGLE_FIELD, ...columnsState.all];\n    columnsState.lookup[GRID_DETAIL_PANEL_TOGGLE_FIELD] = _extends({}, GRID_DETAIL_PANEL_TOGGLE_COL_DEF, {\n      headerName: apiRef.current.getLocaleText('detailPanelToggle')\n    });\n    return columnsState;\n  }, [apiRef, props.getDetailPanelContent]);\n  const addExpandedClassToRow = React.useCallback((classes, id) => {\n    if (props.getDetailPanelContent == null) {\n      return classes;\n    }\n\n    const expandedRowIds = gridDetailPanelExpandedRowIdsSelector(apiRef.current.state);\n\n    if (!expandedRowIds.includes(id)) {\n      return classes;\n    }\n\n    return [...classes, 'MuiDataGrid-row--detailPanelExpanded'];\n  }, [apiRef, props.getDetailPanelContent]);\n  useGridRegisterPipeProcessor(apiRef, 'hydrateColumns', addToggleColumn);\n  useGridRegisterPipeProcessor(apiRef, 'rowClassName', addExpandedClassToRow);\n};"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,4BAAT,QAA6C,4BAA7C;AACA,SAASC,8BAAT,EAAyCC,gCAAzC,QAAiF,+BAAjF;AACA,SAASC,qCAAT,QAAsD,2BAAtD;AACA,OAAO,MAAMC,+BAA+B,GAAG,CAACC,MAAD,EAASC,KAAT,KAAmB;EAChE,MAAMC,eAAe,GAAGR,KAAK,CAACS,WAAN,CAAkBC,YAAY,IAAI;IACxD,IAAIH,KAAK,CAACI,qBAAN,IAA+B,IAAnC,EAAyC;MACvC;MACA,IAAID,YAAY,CAACE,MAAb,CAAoBV,8BAApB,CAAJ,EAAyD;QACvD,OAAOQ,YAAY,CAACE,MAAb,CAAoBV,8BAApB,CAAP;QACAQ,YAAY,CAACG,GAAb,GAAmBH,YAAY,CAACG,GAAb,CAAiBC,MAAjB,CAAwBC,KAAK,IAAIA,KAAK,KAAKb,8BAA3C,CAAnB;MACD;;MAED,OAAOQ,YAAP;IACD,CATuD,CAStD;IACF;;;IAGA,IAAIA,YAAY,CAACE,MAAb,CAAoBV,8BAApB,CAAJ,EAAyD;MACvD,OAAOQ,YAAP;IACD,CAfuD,CAetD;;;IAGFA,YAAY,CAACG,GAAb,GAAmB,CAACX,8BAAD,EAAiC,GAAGQ,YAAY,CAACG,GAAjD,CAAnB;IACAH,YAAY,CAACE,MAAb,CAAoBV,8BAApB,IAAsDH,QAAQ,CAAC,EAAD,EAAKI,gCAAL,EAAuC;MACnGa,UAAU,EAAEV,MAAM,CAACW,OAAP,CAAeC,aAAf,CAA6B,mBAA7B;IADuF,CAAvC,CAA9D;IAGA,OAAOR,YAAP;EACD,CAvBuB,EAuBrB,CAACJ,MAAD,EAASC,KAAK,CAACI,qBAAf,CAvBqB,CAAxB;EAwBA,MAAMQ,qBAAqB,GAAGnB,KAAK,CAACS,WAAN,CAAkB,CAACW,OAAD,EAAUC,EAAV,KAAiB;IAC/D,IAAId,KAAK,CAACI,qBAAN,IAA+B,IAAnC,EAAyC;MACvC,OAAOS,OAAP;IACD;;IAED,MAAME,cAAc,GAAGlB,qCAAqC,CAACE,MAAM,CAACW,OAAP,CAAeM,KAAhB,CAA5D;;IAEA,IAAI,CAACD,cAAc,CAACE,QAAf,CAAwBH,EAAxB,CAAL,EAAkC;MAChC,OAAOD,OAAP;IACD;;IAED,OAAO,CAAC,GAAGA,OAAJ,EAAa,sCAAb,CAAP;EACD,CAZ6B,EAY3B,CAACd,MAAD,EAASC,KAAK,CAACI,qBAAf,CAZ2B,CAA9B;EAaAV,4BAA4B,CAACK,MAAD,EAAS,gBAAT,EAA2BE,eAA3B,CAA5B;EACAP,4BAA4B,CAACK,MAAD,EAAS,cAAT,EAAyBa,qBAAzB,CAA5B;AACD,CAxCM"},"metadata":{},"sourceType":"module"}